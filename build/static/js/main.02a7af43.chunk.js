(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(75)},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(30),i=a.n(c),o=a(13),s=a(6),r=a(7),m=a(9),d=a(8),u=a(10),h=a(33),E=a(78),p=a(77),v=a(17),N=Object(v.a)(),f=a(12),C=a(34),g=a(35),S={REQUEST_NASA:"REQUEST_NASA",REQUEST_NASA_SUCCESS:"REQUEST_NASA_SUCCESS",REQUEST_NASA_FAIL:"REQUEST_NASA_FAIL",REQUEST_COLLECTION:"REQUEST_COLLECTION"},b=Object(g.a)({loading:!1,nasaList:[],errorLog:""});var O=Object(f.c)({collectionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.REQUEST_NASA:return e.set("loading",!0);case S.REQUEST_NASA_SUCCESS:return e.set("loading",!1).set("nasaList",t.listData);case S.REQUEST_NASA_FAIL:return e.set("loading",!1).set("errorLog",t.error);default:return e}}}),A=Object(f.d)(O,Object(f.a)(C.a)),k=a(76),L=a(2),y=a.n(L),x=a(15),j=a.n(x);var _=function(e){var t=e.classes,a=e.child,n=e.icon,c=e.onClick;return l.a.createElement("button",{className:"btn ".concat(t),onClick:c},n," ",a)};var I=function(e){var t=e.classes,a=e.text;return l.a.createElement("span",{className:"icon ".concat(t)},a)},M=a(16),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.submitCollection=function(){var e=a.state,t={title:e.titleCollect,description:e.descriptionCollect,link:e.linkImage};a.props.submitCollection(t)},a.state={titleCollect:"",descriptionCollect:"",linkImage:""},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(!y.a.isEmpty(e.item)){var t=e.item;this.setState({titleCollect:y.a.head(t.data).title,descriptionCollect:y.a.head(t.data).description,linkImage:y.a.head(t.links).href})}}},{key:"render",value:function(){var e=this.props,t=e.display,a=e.closeModal,n=e.titleModal,c=e.textAction,i=this.state,o=i.titleCollect,s=i.descriptionCollect,r=i.linkImage;return l.a.createElement("div",{className:"modal ".concat(t?"active":"")},l.a.createElement("div",{className:"modal-content"},l.a.createElement("span",{className:"icon close close-modal",onClick:a}),l.a.createElement("div",{className:"form-detail-info"},l.a.createElement("div",{className:"title-modal"},l.a.createElement("h3",null,n)),l.a.createElement("div",{className:"input-form"},l.a.createElement("label",{htmlFor:"titleCollect"},"Title"),l.a.createElement("input",{type:"text",className:"text-box",name:"titleCollect",id:"titleCollect",placeholder:"Title",onChange:this.onChange,value:o})),l.a.createElement("div",{className:"input-form"},l.a.createElement("label",{htmlFor:"descriptionCollect"},"Description"),l.a.createElement("textarea",{cols:"30",rows:"3",className:"text-box modal-description",name:"descriptionCollect",id:"descriptionCollect",placeholder:"Description",onChange:this.onChange,value:s})),l.a.createElement("div",{className:"input-form"},l.a.createElement("label",{htmlFor:"linkImage"},"Link Image"),l.a.createElement("input",{type:"text",className:"text-box readonly",name:"linkImage",id:"linkImage",placeholder:"Link Image",onChange:this.onChange,value:r,readOnly:!0})),l.a.createElement("div",{className:"modal-action"},l.a.createElement(_,{classes:"add-collection",icon:l.a.createElement(I,{classes:"small-icon add"}),child:c,onClick:this.submitCollection})))))}}]),t}(l.a.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addFavorite=function(e){for(var t=a.state.collectionList,n=0;n<t.length;n++)y.a.head(t[n].data).nasa_id===e.nasa_id&&(t[n].hasFavorite=!0);a.setState({collectionList:t}),localStorage.setItem("collectionList",JSON.stringify(t))},a.removeItem=function(e){var t=a.state.collectionList,n=t.indexOf(e);t.splice(n,1),a.setState({collectionList:t}),localStorage.setItem("collectionList",JSON.stringify(t))},a.checkHasFavorite=function(e){return!(!e.hasOwnProperty("hasFavorite")||!0!==e.hasFavorite)},a.updateCollection=function(e,t){for(var n=a.state.collectionList,l=0;l<n.length;l++)y.a.head(n[l].data).nasa_id===y.a.head(e.data).nasa_id&&(y.a.head(n[l].data).title=t.title,y.a.head(n[l].data).description=t.description);a.setState({collectionList:n}),localStorage.setItem("collectionList",JSON.stringify(n)),a.closeModal()},a.closeModal=function(){a.setState({show:!1,items:{}})},a.openModalCollection=function(e){a.setState({show:!0,items:e})},a.state={show:!1,items:{},collectionList:JSON.parse(localStorage.getItem("collectionList"))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.collectionList,a=this.state,n=a.show,c=a.items;return l.a.createElement("div",null,l.a.createElement(T,{titleModal:"Edit Collection",textAction:"Update",item:c,display:n,closeModal:this.closeModal,submitCollection:function(t){return e.updateCollection(c,t)}}),l.a.createElement("div",{className:"top-info"},l.a.createElement("h2",null,"Nasa Collection"),l.a.createElement("div",{className:"add-new-collection"},l.a.createElement(k.a,{to:"/addCollection"},l.a.createElement("span",{className:"btn add-item"},l.a.createElement(I,{classes:"add"})," Add New Item")))),l.a.createElement("div",{className:"main-content"},l.a.createElement("ul",{className:"list-collection-nasa"},y.a.isEmpty(t)&&l.a.createElement("li",{className:"box-collection"},l.a.createElement("span",null,"No Collection")),!y.a.isEmpty(t)&&t.map(function(t,a){return l.a.createElement("li",{className:"box-collection",key:a},l.a.createElement("div",{className:"box-image"},l.a.createElement("img",{src:y.a.head(t.links).href,alt:y.a.head(t.data).title})),l.a.createElement("div",{className:"box-information"},l.a.createElement("div",{className:"heading-box"},l.a.createElement("div",{className:"author"},y.a.head(t.data).center),l.a.createElement("div",{className:"date-publish"},j()(y.a.head(t.data).date_created).format("Do MMM YYYY"))),l.a.createElement("div",{className:"detail-box"},l.a.createElement("h3",{className:"title"},y.a.head(t.data).title),l.a.createElement("p",{className:"description"},y.a.head(t.data).description)),l.a.createElement("div",{className:"buttons-action"},l.a.createElement(_,{classes:"icon heart ".concat(e.checkHasFavorite(t)?"favorite":""),onClick:function(){return e.addFavorite(y.a.head(t.data))}}),l.a.createElement(_,{classes:"icon icon del",onClick:function(){return e.removeItem(t)}}),l.a.createElement(_,{classes:"icon icon edit",onClick:function(){return e.openModalCollection(t)}}))))}))))}}]),t}(l.a.Component),U=a(36),R=a.n(U),F={getCollectionBySearch:function(e){return R.a.get("https://images-api.nasa.gov/search?q=".concat(e)).then(function(e){return e})}};var Q={getNasaList:function(e){return function(t){t({type:S.REQUEST_NASA}),F.getCollectionBySearch(e).then(function(e){return t(function(e){return{type:S.REQUEST_NASA_SUCCESS,listData:e}}(e))},function(e){return t(function(e){return{type:S.REQUEST_NASA_FAIL,error:e}}(e))})}}};var J=function(e){var t=e.name,a=e.id,n=e.onChange,c=e.onSubmit,i=e.valueSearch;return l.a.createElement("div",{className:"search-content"},l.a.createElement("div",{className:"input-form box-search"},l.a.createElement("input",{type:"text",name:t,id:a,className:"text-box",placeholder:"Type something to search...",onChange:n,value:i}),l.a.createElement("button",{className:"btn search",onClick:c},"Search")))},Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).submitSearch=function(){a.props.getNasaList(a.state.search)},a.inputChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.closeModal=function(){a.setState({show:!1,item:{}})},a.openModalAddCollection=function(e){a.setState({show:!0,item:e})},a.saveCollection=function(e,t){y.a.head(e.data).title=t.title,y.a.head(e.data).description=t.description;var n=JSON.parse(localStorage.getItem("collectionList"));n.push(e),localStorage.setItem("collectionList",JSON.stringify(n)),a.closeModal(),a.props.history.push("/")},a.state={search:"",show:!1,item:{}},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.nasaList,c=this.state,i=c.show,o=c.item;return l.a.createElement("div",null,l.a.createElement(T,{titleModal:"Add Collection",textAction:"Add to collection",item:o,display:i,closeModal:this.closeModal,submitCollection:function(t){return e.saveCollection(o,t)}}),l.a.createElement("div",{className:"link-section"},l.a.createElement(k.a,{to:"/"},l.a.createElement("span",{className:"back-link"},l.a.createElement(I,{classes:"small-icon back"}),"Back to collection"))),l.a.createElement("div",{className:"top-info"},l.a.createElement("h2",null,"Search from Nasa")),l.a.createElement(J,{name:"search",id:"search",valueSearch:this.state.search,onChange:this.inputChange,onSubmit:this.submitSearch}),l.a.createElement("div",{className:"main-content"},l.a.createElement("ul",{className:"list-collection-nasa"},y.a.isEmpty(n.data)&&!a&&l.a.createElement("li",{className:"box-collection"},l.a.createElement("span",null,"No Data")),a&&l.a.createElement("span",null,"Searching..."),!y.a.isEmpty(n.data)&&n.data.collection.items.map(function(t,a){return l.a.createElement("li",{className:"box-collection",key:a},l.a.createElement("div",{className:"box-image"},l.a.createElement("img",{src:y.a.head(t.links).href,alt:y.a.head(t.data).title})),l.a.createElement("div",{className:"box-information"},l.a.createElement("div",{className:"heading-box"},l.a.createElement("div",{className:"author"},y.a.head(t.data).center),l.a.createElement("div",{className:"date-publish"},j()(y.a.head(t.data).date_created).format("Do MMM YYYY"))),l.a.createElement("div",{className:"detail-box"},l.a.createElement("h3",{className:"title"},y.a.head(t.data).title),l.a.createElement("p",{className:"description"},y.a.head(t.data).description)),l.a.createElement("div",{className:"buttons-action"},l.a.createElement(_,{classes:"add-to-collection",icon:l.a.createElement(I,{classes:"add"}),child:"Add to NASA collection",onClick:function(){return e.openModalAddCollection(t)}}))))}))))}}]),t}(l.a.Component);var D=Object(o.b)(function(e){var t=e.collectionReducer;return{loading:t.get("loading"),nasaList:t.get("nasaList")}},function(e){return{getNasaList:function(t){return e(Q.getNasaList(t))},addCollection:function(t){return e(Q.addCollection(t))}}})(Y);a(73);var B=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e)),null===localStorage.getItem("collectionList")&&localStorage.setItem("collectionList",JSON.stringify([])),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.Helmet,{titleTemplate:"%s - Nasa Collection",defaultTitle:"Nasa Collection"},l.a.createElement("meta",{name:"description",content:"A React.js application"})),l.a.createElement("div",{className:"content-wrapper"},l.a.createElement(E.a,{history:N},l.a.createElement("div",null,l.a.createElement(p.a,{exact:!0,path:"/",component:w}),l.a.createElement(p.a,{path:"/addCollection",component:D})))))}}]),t}(l.a.Component),H=Object(o.b)()(B);i.a.render(l.a.createElement(o.a,{store:A},l.a.createElement(H,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.02a7af43.chunk.js.map